<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>What if Phil were a web developer</title>
</head>
<body>

<h1 class="blink_me" style="text-align: center;">The content doesnt matter</h1>
<h1 class="marquee">I don't believe in dynamic pages</h1>
<h2>Cheer of the day</h2>
<h3>I go fast!</h3>
<h4>Left to right</h4>
<h5>I'll defer that question</h5>
<center>
    <img src="img/spacecat_anim.gif">
</center>
<script   src="https://code.jquery.com/jquery-3.1.0.min.js"   integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s="   crossorigin="anonymous"></script>
<script>
    (function blink() {
        $('.blink_me').fadeOut(500).fadeIn(500, blink);
    })();
</script>
<script>
    (function($) {
        $.fn.textWidth = function(){
            var calc = '<span style="display:none">' + $(this).text() + '</span>';
            $('body').append(calc);
            var width = $('body').find('span:last').width();
            $('body').find('span:last').remove();
            return width;
        };

        $.fn.marquee = function(args) {
            var that = $(this);
            var textWidth = that.textWidth(),
                    offset = that.width(),
                    width = offset,
                    css = {
                        'text-indent' : that.css('text-indent'),
                        'overflow' : that.css('overflow'),
                        'white-space' : that.css('white-space')
                    },
                    marqueeCss = {
                        'text-indent' : width,
                        'overflow' : 'hidden',
                        'white-space' : 'nowrap'
                    },
                    args = $.extend(true, { count: -1, speed: 1e1, leftToRight: false }, args),
                    i = 0,
                    stop = textWidth*-1,
                    dfd = $.Deferred();

            function go() {
                if(!that.length) return dfd.reject();
                if(width == stop) {
                    i++;
                    if(i == args.count) {
                        that.css(css);
                        return dfd.resolve();
                    }
                    if(args.leftToRight) {
                        width = textWidth*-1;
                    } else {
                        width = offset;
                    }
                }
                that.css('text-indent', width + 'px');
                if(args.leftToRight) {
                    width++;
                } else {
                    width--;
                }
                setTimeout(go, args.speed);
            };
            if(args.leftToRight) {
                width = textWidth*-1;
                width++;
                stop = offset;
            } else {
                width--;
            }
            that.css(marqueeCss);
            go();
            return dfd.promise();
        };
    })(jQuery);

    $('h1.marquee').marquee();
    $('h2').marquee({ count: 2 });
    $('h3').marquee({ speed: 5 });
    $('h4').marquee({ leftToRight: true });
    $('h5').marquee({ count: 1, speed: 2 }).done(function() { $('h5').css('color', '#f00'); })
</script>
</body>
</html>